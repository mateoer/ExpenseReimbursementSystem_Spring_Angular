{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/profile-picture.service\";\nimport * as i3 from \"src/app/services/password-reset.service\";\n\nfunction HomeResetComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"input\", 18);\n    i0.ɵɵlistener(\"click\", function HomeResetComponent_div_22_Template_input_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.back();\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction HomeResetComponent_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 19);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(8);\n\n    i0.ɵɵproperty(\"disabled\", _r0.invalid);\n  }\n}\n\nexport let HomeResetComponent = /*#__PURE__*/(() => {\n  class HomeResetComponent {\n    constructor(_route, pfp, resetService) {\n      this._route = _route;\n      this.pfp = pfp;\n      this.resetService = resetService;\n      this.message = '';\n      this.password = '';\n      this.new_password = '';\n      this.re_new_password = '';\n      this.userImage = null;\n    }\n\n    ngOnInit() {\n      if (sessionStorage.getItem('profilePicture') != 'null') {\n        this.pfp.getProfilePicture().subscribe(userImage => this.userImage = userImage);\n      } else {\n        this.userImage = \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\";\n      }\n    }\n\n    back() {\n      const moveTo = sessionStorage.getItem('userRole').toLowerCase();\n\n      this._route.navigate([`/${moveTo}`]);\n    }\n\n    passwordReset() {\n      if (this.new_password != '' && this.password != '' && this.new_password === this.re_new_password) {\n        this.resetService.validateFromHome(this.password, this.new_password).subscribe(e => {\n          this.message = e;\n          this.password = '';\n          this.new_password = '';\n          this.re_new_password = '';\n        });\n      }\n    }\n\n  }\n\n  HomeResetComponent.ɵfac = function HomeResetComponent_Factory(t) {\n    return new (t || HomeResetComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProfilePictureService), i0.ɵɵdirectiveInject(i3.PasswordResetService));\n  };\n\n  HomeResetComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeResetComponent,\n    selectors: [[\"app-home-reset\"]],\n    decls: 25,\n    vars: 10,\n    consts: [[1, \"navbar\", 2, \"width\", \"10%\", \"margin-right\", \"7%\"], [1, \"nav-link\", \"btn\", \"btn-primary\", 3, \"click\"], [1, \"background\"], [\"id\", \"login-form\"], [1, \"card\", \"card-container\"], [1, \"profile-img-card\", 3, \"src\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"myLoginGroup\", \"ngForm\"], [\"for\", \"password\"], [\"required\", \"\", \"type\", \"password\", \"name\", \"password\", \"placeholder\", \"enter password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"new_password\"], [\"required\", \"\", \"type\", \"password\", \"name\", \"new_password\", \"placeholder\", \"enter new password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"re_new_password\"], [\"required\", \"\", \"type\", \"password\", \"name\", \"re_new_password\", \"placeholder\", \"re-enter new password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"message\", \"password\", \"new_password\", \"re_new_password\"], [1, \"form-group\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [\"type\", \"submit\", \"value\", \"Back to Home menu\", 1, \"form-control\", 2, \"background-color\", \"DodgerBlue\", \"color\", \"#fff\", 3, \"click\"], [\"type\", \"submit\", \"value\", \"Reset password\", 1, \"form-control\", 2, \"background-color\", \"DodgerBlue\", \"color\", \"#fff\", 3, \"disabled\"]],\n    template: function HomeResetComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nav\", 0)(1, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function HomeResetComponent_Template_button_click_1_listener() {\n          return ctx.back();\n        });\n        i0.ɵɵtext(2, \"Go back\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4);\n        i0.ɵɵelement(6, \"img\", 5);\n        i0.ɵɵelementStart(7, \"form\", 6, 7);\n        i0.ɵɵlistener(\"ngSubmit\", function HomeResetComponent_Template_form_ngSubmit_7_listener() {\n          return ctx.passwordReset();\n        });\n        i0.ɵɵelementStart(9, \"label\", 8);\n        i0.ɵɵtext(10, \"Old Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function HomeResetComponent_Template_input_ngModelChange_11_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"label\", 10);\n        i0.ɵɵtext(13, \"New Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function HomeResetComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.new_password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"label\", 12);\n        i0.ɵɵtext(16, \"Re-Enter New Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"input\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function HomeResetComponent_Template_input_ngModelChange_17_listener($event) {\n          return ctx.re_new_password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"br\")(19, \"app-child-reset\", 14)(20, \"br\");\n        i0.ɵɵelementStart(21, \"div\", 15);\n        i0.ɵɵtemplate(22, HomeResetComponent_div_22_Template, 2, 0, \"div\", 16);\n        i0.ɵɵtemplate(23, HomeResetComponent_ng_template_23_Template, 1, 1, \"ng-template\", null, 17, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(24);\n\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"src\", ctx.userImage, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.password);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.new_password);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.re_new_password);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"message\", ctx.message)(\"password\", ctx.password)(\"new_password\", ctx.new_password)(\"re_new_password\", ctx.re_new_password);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.message != \"\")(\"ngIfElse\", _r2);\n      }\n    },\n    styles: [\"label[_ngcontent-%COMP%]{display:block;margin-top:10px}.card-container.card[_ngcontent-%COMP%]{max-width:400px!important;padding:40px}.card[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:20px 25px 30px;margin:50px auto 25px;border-radius:2px;box-shadow:0 2px 2px #0000004d}.profile-img-card[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 10px;display:block;border-radius:50%}.login-form[_ngcontent-%COMP%]{position:relative;height:560px;width:405px;margin:auto;padding:60px;background-size:cover;box-shadow:0 30px 60px -5px #000}.background[_ngcontent-%COMP%]{background-image:url(photo-1657278127206-3299435f1cad.6e580ed13cd010ea.jpg);background-repeat:no-repeat;background-size:cover;background-attachment:fixed;background-position:center;padding-top:5%;padding-bottom:15%}\"]\n  });\n  return HomeResetComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}