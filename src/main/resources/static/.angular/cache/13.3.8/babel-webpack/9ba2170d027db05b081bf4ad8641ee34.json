{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/login-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(loginService, _route, location) {\n      this.loginService = loginService;\n      this._route = _route;\n      this.location = location;\n      this.loginForm = {\n        username: '',\n        password: ''\n      };\n      this.userCredentials = {\n        user: {\n          userId: 0,\n          username: '',\n          password: '',\n          firstName: '',\n          lastName: '',\n          email: '',\n          userRole: ''\n        },\n        found: false\n      };\n      history.pushState(null, \"null\", window.location.href);\n      this.location.onPopState(() => {\n        history.pushState(null, \"null\", window.location.href);\n      });\n    }\n\n    ngOnInit() {\n      this.loginService.greetings().subscribe(e => this.greetingMessage = e);\n      sessionStorage.clear();\n      localStorage.clear();\n    }\n\n    sessionSave() {\n      sessionStorage.setItem('userId', JSON.stringify(this.userCredentials.user.userId));\n      sessionStorage.setItem('username', this.userCredentials.user.username);\n      sessionStorage.setItem('firstName', this.userCredentials.user.firstName);\n      sessionStorage.setItem('lastName', this.userCredentials.user.lastName);\n      sessionStorage.setItem('email', this.userCredentials.user.lastName);\n      sessionStorage.setItem('userRole', this.userCredentials.user.userRole);\n      sessionStorage.setItem('found', JSON.stringify(this.userCredentials.found));\n    }\n\n    loginUser() {\n      this.loginService.findUserLogin(this.loginForm).subscribe();\n      this.loginService.findUserLogin(this.loginForm).subscribe(e => {\n        if (e.found == true) {\n          this.userCredentials = e;\n          this.sessionSave();\n          const moveTo = this.userCredentials.user.userRole.toLowerCase();\n\n          this._route.navigate([`/${moveTo}`]);\n        }\n      });\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.LocationStrategy));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 18,\n    vars: 4,\n    consts: [[\"id\", \"login-form\"], [1, \"card\", \"card-container\"], [\"id\", \"profile-img\", \"src\", \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\", 1, \"profile-img-card\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"myLoginGroup\", \"ngForm\"], [\"for\", \"username\"], [\"required\", \"\", \"type\", \"text\", \"name\", \"username\", \"placeholder\", \"enter username\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"required\", \"\", \"type\", \"password\", \"name\", \"password\", \"placeholder\", \"enter password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\"], [\"type\", \"submit\", \"value\", \"Login\", 1, \"form-control\", 2, \"background-color\", \"DodgerBlue\", \"color\", \"#fff\", 3, \"disabled\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\");\n        i0.ɵɵtext(1, \"Greeting\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"h2\");\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 0)(5, \"div\", 1);\n        i0.ɵɵelement(6, \"img\", 2);\n        i0.ɵɵelementStart(7, \"form\", 3, 4);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_7_listener() {\n          return ctx.loginUser();\n        });\n        i0.ɵɵelementStart(9, \"label\", 5);\n        i0.ɵɵtext(10, \"Username\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_11_listener($event) {\n          return ctx.loginForm.username = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"label\", 7);\n        i0.ɵɵtext(13, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.loginForm.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"br\");\n        i0.ɵɵelementStart(16, \"div\", 9);\n        i0.ɵɵelement(17, \"input\", 10);\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(8);\n\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.greetingMessage);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.loginForm.username);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.loginForm.password);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", _r0.invalid);\n      }\n    },\n    directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.RequiredValidator, i4.NgControlStatus, i4.NgModel],\n    styles: [\"label[_ngcontent-%COMP%]{display:block;margin-top:10px}.card-container.card[_ngcontent-%COMP%]{max-width:400px!important;padding:40px}.card[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:20px 25px 30px;margin:50px auto 25px;border-radius:2px;box-shadow:0 2px 2px #0000004d}.profile-img-card[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 10px;display:block;border-radius:50%}.login-form[_ngcontent-%COMP%]{position:relative;height:560px;width:405px;margin:auto;padding:60px;background:url(329985-Astronaut-Outer-Space-Stars-Planet-4K-iphone-wallpaper.1849b3a93f5bc688.jpg) no-repeat #505050;background-size:cover;box-shadow:0 30px 60px -5px #000}\"]\n  });\n  LoginComponent.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: LoginComponent,\n    factory: LoginComponent.ɵfac,\n    providedIn: 'root'\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}