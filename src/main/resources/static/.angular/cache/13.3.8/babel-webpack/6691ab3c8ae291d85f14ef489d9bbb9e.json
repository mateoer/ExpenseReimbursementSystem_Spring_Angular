{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\tapioca\\\\Documents\\\\ERS_Angular\\\\ERS_Angular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/login-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(loginService, _route) {\n    this.loginService = loginService;\n    this._route = _route;\n    this.loginForm = {\n      username: '',\n      password: ''\n    };\n    this.userCredentials = {\n      user: {\n        userId: 0,\n        username: '',\n        password: '',\n        firstName: '',\n        lastName: '',\n        email: '',\n        userRole: ''\n      },\n      found: false\n    };\n  }\n\n  ngOnInit() {}\n\n  sessionSave() {\n    sessionStorage.setItem('userId', JSON.stringify(this.userCredentials.user.userId));\n    sessionStorage.setItem('username', this.userCredentials.user.username);\n    sessionStorage.setItem('firstName', this.userCredentials.user.firstName);\n    sessionStorage.setItem('lastName', this.userCredentials.user.lastName);\n    sessionStorage.setItem('email', this.userCredentials.user.lastName);\n    sessionStorage.setItem('userRole', this.userCredentials.user.userRole);\n    sessionStorage.setItem('found', JSON.stringify(this.userCredentials.found));\n  }\n\n  getUserCredentials() {\n    return this.userCredentials;\n  }\n\n  loginUser() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.loginService.findUserLogin(_this.loginForm);\n\n      _this.loginService.findUserLogin(_this.loginForm).subscribe(e => _this.userCredentials = e);\n\n      console.log(_this.userCredentials.user);\n\n      if (_this.userCredentials.found == true) {\n        _this.sessionSave();\n\n        const moveTo = _this.userCredentials.user.userRole.toLowerCase();\n\n        _this._route.navigate([`/${moveTo}`]);\n      }\n    })();\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 14,\n  vars: 3,\n  consts: [[\"id\", \"login-form\"], [1, \"card\", \"card-container\"], [\"id\", \"profile-img\", \"src\", \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\", 1, \"profile-img-card\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"myLoginGroup\", \"ngForm\"], [\"for\", \"username\"], [\"required\", \"\", \"type\", \"text\", \"name\", \"username\", \"placeholder\", \"enter username\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"required\", \"\", \"type\", \"password\", \"name\", \"password\", \"placeholder\", \"enter password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\"], [\"type\", \"submit\", \"value\", \"Login\", 1, \"form-control\", 2, \"background-color\", \"DodgerBlue\", \"color\", \"#fff\", 3, \"disabled\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"img\", 2);\n      i0.ɵɵelementStart(3, \"form\", 3, 4);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.loginUser();\n      });\n      i0.ɵɵelementStart(5, \"label\", 5);\n      i0.ɵɵtext(6, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.loginForm.username = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"label\", 7);\n      i0.ɵɵtext(9, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.loginForm.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"br\");\n      i0.ɵɵelementStart(12, \"div\", 9);\n      i0.ɵɵelement(13, \"input\", 10);\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(4);\n\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.loginForm.username);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.loginForm.password);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", _r0.invalid);\n    }\n  },\n  directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel],\n  styles: [\"label[_ngcontent-%COMP%] {\\r\\n  display: block;\\r\\n  margin-top: 10px;\\r\\n}\\r\\n\\r\\n.card-container.card[_ngcontent-%COMP%] {\\r\\n  \\r\\n  max-width: 400px !important;\\r\\n  padding: 40px 40px;\\r\\n}\\r\\n\\r\\n.card[_ngcontent-%COMP%] {\\r\\n  background-color: #f7f7f7;\\r\\n  padding: 20px 25px 30px;\\r\\n  margin: 0 auto 25px;\\r\\n  margin-top: 50px;\\r\\n  border-radius: 2px;\\r\\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\\r\\n}\\r\\n\\r\\n.profile-img-card[_ngcontent-%COMP%] {\\r\\n  width: 80px;\\r\\n  height: 80px;\\r\\n  margin: 0 auto 10px;\\r\\n  display: block;\\r\\n  border-radius: 50%;\\r\\n}\\r\\n\\r\\n.login-form[_ngcontent-%COMP%] {\\r\\n  position: relative;\\r\\n  height: 560px;\\r\\n  width: 405px;\\r\\n  margin: auto;\\r\\n  padding: 60px 60px;\\r\\n  background: url('329985-Astronaut-Outer-Space-Stars-Planet-4K-iphone-wallpaper.jpg')\\r\\n    no-repeat #505050;\\r\\n  background-size: cover;\\r\\n  box-shadow: 0px 30px 60px -5px #000;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0VBQ2QsZ0JBQWdCO0FBQ2xCOztBQUVBOztFQUVFLDJCQUEyQjtFQUMzQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFHaEIsa0JBQWtCO0VBR2xCLDBDQUEwQztBQUM1Qzs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGNBQWM7RUFHZCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLFlBQVk7RUFDWixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCO3FCQUNtQjtFQUNuQixzQkFBc0I7RUFDdEIsbUNBQW1DO0FBQ3JDIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJsYWJlbCB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWFyZ2luLXRvcDogMTBweDtcclxufVxyXG5cclxuLmNhcmQtY29udGFpbmVyLmNhcmQge1xyXG4gIFxyXG4gIG1heC13aWR0aDogNDAwcHggIWltcG9ydGFudDtcclxuICBwYWRkaW5nOiA0MHB4IDQwcHg7XHJcbn1cclxuXHJcbi5jYXJkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3O1xyXG4gIHBhZGRpbmc6IDIwcHggMjVweCAzMHB4O1xyXG4gIG1hcmdpbjogMCBhdXRvIDI1cHg7XHJcbiAgbWFyZ2luLXRvcDogNTBweDtcclxuICAtbW96LWJvcmRlci1yYWRpdXM6IDJweDtcclxuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDJweDtcclxuICBib3JkZXItcmFkaXVzOiAycHg7XHJcbiAgLW1vei1ib3gtc2hhZG93OiAwcHggMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbiAgYm94LXNoYWRvdzogMHB4IDJweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpO1xyXG59XHJcblxyXG4ucHJvZmlsZS1pbWctY2FyZCB7XHJcbiAgd2lkdGg6IDgwcHg7XHJcbiAgaGVpZ2h0OiA4MHB4O1xyXG4gIG1hcmdpbjogMCBhdXRvIDEwcHg7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgLW1vei1ib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG59XHJcblxyXG4ubG9naW4tZm9ybSB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIGhlaWdodDogNTYwcHg7XHJcbiAgd2lkdGg6IDQwNXB4O1xyXG4gIG1hcmdpbjogYXV0bztcclxuICBwYWRkaW5nOiA2MHB4IDYwcHg7XHJcbiAgYmFja2dyb3VuZDogdXJsKC4uLy4uL2Fzc2V0cy8zMjk5ODUtQXN0cm9uYXV0LU91dGVyLVNwYWNlLVN0YXJzLVBsYW5ldC00Sy1pcGhvbmUtd2FsbHBhcGVyLmpwZylcclxuICAgIG5vLXJlcGVhdCAjNTA1MDUwO1xyXG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgYm94LXNoYWRvdzogMHB4IDMwcHggNjBweCAtNXB4ICMwMDA7XHJcbn1cclxuIl19 */\"]\n});\nLoginComponent.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: LoginComponent,\n  factory: LoginComponent.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:/Users/tapioca/Documents/ERS_Angular/ERS_Angular/src/app/login/login.component.ts"],"names":["i0","i1","i2","i3","LoginComponent","constructor","loginService","_route","loginForm","username","password","userCredentials","user","userId","firstName","lastName","email","userRole","found","ngOnInit","sessionSave","sessionStorage","setItem","JSON","stringify","getUserCredentials","loginUser","findUserLogin","subscribe","e","console","log","moveTo","toLowerCase","navigate","ɵfac","LoginComponent_Factory","t","ɵɵdirectiveInject","LoginService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵlistener","LoginComponent_Template_form_ngSubmit_3_listener","ɵɵtext","ɵɵelementEnd","LoginComponent_Template_input_ngModelChange_7_listener","$event","LoginComponent_Template_input_ngModelChange_10_listener","_r0","ɵɵreference","ɵɵadvance","ɵɵproperty","invalid","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","RequiredValidator","NgControlStatus","NgModel","styles","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../services/login-service.service\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/forms\";\r\nexport class LoginComponent {\r\n    constructor(loginService, _route) {\r\n        this.loginService = loginService;\r\n        this._route = _route;\r\n        this.loginForm = {\r\n            username: '',\r\n            password: ''\r\n        };\r\n        this.userCredentials = {\r\n            user: {\r\n                userId: 0,\r\n                username: '',\r\n                password: '',\r\n                firstName: '',\r\n                lastName: '',\r\n                email: '',\r\n                userRole: ''\r\n            },\r\n            found: false\r\n        };\r\n    }\r\n    ngOnInit() { }\r\n    sessionSave() {\r\n        sessionStorage.setItem('userId', JSON.stringify(this.userCredentials.user.userId));\r\n        sessionStorage.setItem('username', this.userCredentials.user.username);\r\n        sessionStorage.setItem('firstName', this.userCredentials.user.firstName);\r\n        sessionStorage.setItem('lastName', this.userCredentials.user.lastName);\r\n        sessionStorage.setItem('email', this.userCredentials.user.lastName);\r\n        sessionStorage.setItem('userRole', this.userCredentials.user.userRole);\r\n        sessionStorage.setItem('found', JSON.stringify(this.userCredentials.found));\r\n    }\r\n    getUserCredentials() {\r\n        return this.userCredentials;\r\n    }\r\n    async loginUser() {\r\n        await this.loginService.findUserLogin(this.loginForm);\r\n        this.loginService.findUserLogin(this.loginForm).subscribe(e => this.userCredentials = e);\r\n        console.log(this.userCredentials.user);\r\n        if (this.userCredentials.found == true) {\r\n            this.sessionSave();\r\n            const moveTo = this.userCredentials.user.userRole.toLowerCase();\r\n            this._route.navigate([`/${moveTo}`]);\r\n        }\r\n    }\r\n}\r\nLoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.Router)); };\r\nLoginComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LoginComponent, selectors: [[\"app-login\"]], decls: 14, vars: 3, consts: [[\"id\", \"login-form\"], [1, \"card\", \"card-container\"], [\"id\", \"profile-img\", \"src\", \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\", 1, \"profile-img-card\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"myLoginGroup\", \"ngForm\"], [\"for\", \"username\"], [\"required\", \"\", \"type\", \"text\", \"name\", \"username\", \"placeholder\", \"enter username\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"required\", \"\", \"type\", \"password\", \"name\", \"password\", \"placeholder\", \"enter password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\"], [\"type\", \"submit\", \"value\", \"Login\", 1, \"form-control\", 2, \"background-color\", \"DodgerBlue\", \"color\", \"#fff\", 3, \"disabled\"]], template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\r\n        i0.ɵɵelement(2, \"img\", 2);\r\n        i0.ɵɵelementStart(3, \"form\", 3, 4);\r\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_3_listener() { return ctx.loginUser(); });\r\n        i0.ɵɵelementStart(5, \"label\", 5);\r\n        i0.ɵɵtext(6, \"Username\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"input\", 6);\r\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_7_listener($event) { return ctx.loginForm.username = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(8, \"label\", 7);\r\n        i0.ɵɵtext(9, \"Password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"input\", 8);\r\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_10_listener($event) { return ctx.loginForm.password = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(11, \"br\");\r\n        i0.ɵɵelementStart(12, \"div\", 9);\r\n        i0.ɵɵelement(13, \"input\", 10);\r\n        i0.ɵɵelementEnd()()()();\r\n    } if (rf & 2) {\r\n        const _r0 = i0.ɵɵreference(4);\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.loginForm.username);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.loginForm.password);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"disabled\", _r0.invalid);\r\n    } }, directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel], styles: [\"label[_ngcontent-%COMP%] {\\r\\n  display: block;\\r\\n  margin-top: 10px;\\r\\n}\\r\\n\\r\\n.card-container.card[_ngcontent-%COMP%] {\\r\\n  \\r\\n  max-width: 400px !important;\\r\\n  padding: 40px 40px;\\r\\n}\\r\\n\\r\\n.card[_ngcontent-%COMP%] {\\r\\n  background-color: #f7f7f7;\\r\\n  padding: 20px 25px 30px;\\r\\n  margin: 0 auto 25px;\\r\\n  margin-top: 50px;\\r\\n  border-radius: 2px;\\r\\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\\r\\n}\\r\\n\\r\\n.profile-img-card[_ngcontent-%COMP%] {\\r\\n  width: 80px;\\r\\n  height: 80px;\\r\\n  margin: 0 auto 10px;\\r\\n  display: block;\\r\\n  border-radius: 50%;\\r\\n}\\r\\n\\r\\n.login-form[_ngcontent-%COMP%] {\\r\\n  position: relative;\\r\\n  height: 560px;\\r\\n  width: 405px;\\r\\n  margin: auto;\\r\\n  padding: 60px 60px;\\r\\n  background: url('329985-Astronaut-Outer-Space-Stars-Planet-4K-iphone-wallpaper.jpg')\\r\\n    no-repeat #505050;\\r\\n  background-size: cover;\\r\\n  box-shadow: 0px 30px 60px -5px #000;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0VBQ2QsZ0JBQWdCO0FBQ2xCOztBQUVBOztFQUVFLDJCQUEyQjtFQUMzQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFHaEIsa0JBQWtCO0VBR2xCLDBDQUEwQztBQUM1Qzs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGNBQWM7RUFHZCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLFlBQVk7RUFDWixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCO3FCQUNtQjtFQUNuQixzQkFBc0I7RUFDdEIsbUNBQW1DO0FBQ3JDIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJsYWJlbCB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWFyZ2luLXRvcDogMTBweDtcclxufVxyXG5cclxuLmNhcmQtY29udGFpbmVyLmNhcmQge1xyXG4gIFxyXG4gIG1heC13aWR0aDogNDAwcHggIWltcG9ydGFudDtcclxuICBwYWRkaW5nOiA0MHB4IDQwcHg7XHJcbn1cclxuXHJcbi5jYXJkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3O1xyXG4gIHBhZGRpbmc6IDIwcHggMjVweCAzMHB4O1xyXG4gIG1hcmdpbjogMCBhdXRvIDI1cHg7XHJcbiAgbWFyZ2luLXRvcDogNTBweDtcclxuICAtbW96LWJvcmRlci1yYWRpdXM6IDJweDtcclxuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDJweDtcclxuICBib3JkZXItcmFkaXVzOiAycHg7XHJcbiAgLW1vei1ib3gtc2hhZG93OiAwcHggMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbiAgYm94LXNoYWRvdzogMHB4IDJweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpO1xyXG59XHJcblxyXG4ucHJvZmlsZS1pbWctY2FyZCB7XHJcbiAgd2lkdGg6IDgwcHg7XHJcbiAgaGVpZ2h0OiA4MHB4O1xyXG4gIG1hcmdpbjogMCBhdXRvIDEwcHg7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgLW1vei1ib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG59XHJcblxyXG4ubG9naW4tZm9ybSB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIGhlaWdodDogNTYwcHg7XHJcbiAgd2lkdGg6IDQwNXB4O1xyXG4gIG1hcmdpbjogYXV0bztcclxuICBwYWRkaW5nOiA2MHB4IDYwcHg7XHJcbiAgYmFja2dyb3VuZDogdXJsKC4uLy4uL2Fzc2V0cy8zMjk5ODUtQXN0cm9uYXV0LU91dGVyLVNwYWNlLVN0YXJzLVBsYW5ldC00Sy1pcGhvbmUtd2FsbHBhcGVyLmpwZylcclxuICAgIG5vLXJlcGVhdCAjNTA1MDUwO1xyXG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgYm94LXNoYWRvdzogMHB4IDMwcHggNjBweCAtNXB4ICMwMDA7XHJcbn1cclxuIl19 */\"] });\r\nLoginComponent.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: LoginComponent, factory: LoginComponent.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}