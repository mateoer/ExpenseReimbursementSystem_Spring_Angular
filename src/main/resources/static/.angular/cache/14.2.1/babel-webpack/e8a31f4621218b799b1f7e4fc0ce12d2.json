{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/profile-picture.service\";\nimport * as i3 from \"src/app/services/password-reset.service\";\n\nfunction FinalizepasswordresetComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"input\", 16);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FinalizepasswordresetComponent_ng_template_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 17);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(5);\n\n    i0.ɵɵproperty(\"disabled\", _r0.invalid);\n  }\n}\n\nexport let FinalizepasswordresetComponent = /*#__PURE__*/(() => {\n  class FinalizepasswordresetComponent {\n    constructor(_route, pfp, resetService) {\n      this._route = _route;\n      this.pfp = pfp;\n      this.resetService = resetService;\n      this.message = '';\n      this.reset_token = '';\n      this.new_password = '';\n      this.re_new_password = '';\n      this.userImage = null;\n    }\n\n    ngOnInit() {\n      if (sessionStorage.getItem('profilePicture') != 'null') {\n        this.pfp.getProfilePicture().subscribe(userImage => this.userImage = userImage);\n      } else {\n        this.userImage = \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\";\n      }\n    }\n\n    back() {\n      const moveTo = sessionStorage.getItem('userRole').toLowerCase();\n\n      this._route.navigate([`/${moveTo}`]);\n    }\n\n    passwordReset() {\n      if (this.new_password != '' && this.reset_token != '' && this.new_password === this.re_new_password) {\n        this.resetService.validateResetToken(this.reset_token, this.new_password).subscribe(e => {\n          this.message = e;\n          this.reset_token = '';\n          this.new_password = '';\n          this.re_new_password = '';\n        });\n      }\n    }\n\n  }\n\n  FinalizepasswordresetComponent.ɵfac = function FinalizepasswordresetComponent_Factory(t) {\n    return new (t || FinalizepasswordresetComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProfilePictureService), i0.ɵɵdirectiveInject(i3.PasswordResetService));\n  };\n\n  FinalizepasswordresetComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FinalizepasswordresetComponent,\n    selectors: [[\"app-finalizepasswordreset\"]],\n    decls: 22,\n    vars: 9,\n    consts: [[1, \"background\"], [\"id\", \"login-form\"], [1, \"card\", \"card-container\"], [\"src\", \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\", 1, \"profile-img-card\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"myLoginGroup\", \"ngForm\"], [\"for\", \"reset_token\"], [\"required\", \"\", \"type\", \"text\", \"name\", \"reset_token\", \"placeholder\", \"enter password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"new_password\"], [\"required\", \"\", \"type\", \"password\", \"name\", \"new_password\", \"placeholder\", \"enter new password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"re_new_password\"], [\"required\", \"\", \"type\", \"password\", \"name\", \"re_new_password\", \"placeholder\", \"re-enter new password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"message\", \"reset_token\", \"new_password\", \"re_new_password\"], [1, \"form-group\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [\"type\", \"submit\", \"value\", \"Back to Login\", \"routerLink\", \"/login\", 1, \"btn\", \"btn-primary\", \"form-control\"], [\"type\", \"submit\", \"value\", \"Reset password\", 1, \"btn\", \"btn-primary\", \"form-control\", 3, \"disabled\"]],\n    template: function FinalizepasswordresetComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵelement(3, \"img\", 3);\n        i0.ɵɵelementStart(4, \"form\", 4, 5);\n        i0.ɵɵlistener(\"ngSubmit\", function FinalizepasswordresetComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.passwordReset();\n        });\n        i0.ɵɵelementStart(6, \"label\", 6);\n        i0.ɵɵtext(7, \"Reset token\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function FinalizepasswordresetComponent_Template_input_ngModelChange_8_listener($event) {\n          return ctx.reset_token = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"label\", 8);\n        i0.ɵɵtext(10, \"New Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function FinalizepasswordresetComponent_Template_input_ngModelChange_11_listener($event) {\n          return ctx.new_password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"label\", 10);\n        i0.ɵɵtext(13, \"Re-Enter New Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function FinalizepasswordresetComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.re_new_password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"br\")(16, \"app-child-finalize-reset\", 12)(17, \"br\");\n        i0.ɵɵelementStart(18, \"div\", 13);\n        i0.ɵɵtemplate(19, FinalizepasswordresetComponent_div_19_Template, 2, 0, \"div\", 14);\n        i0.ɵɵtemplate(20, FinalizepasswordresetComponent_ng_template_20_Template, 1, 1, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(21);\n\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.reset_token);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.new_password);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.re_new_password);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"message\", ctx.message)(\"reset_token\", ctx.reset_token)(\"new_password\", ctx.new_password)(\"re_new_password\", ctx.re_new_password);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.message != \"\")(\"ngIfElse\", _r2);\n      }\n    },\n    styles: [\"label[_ngcontent-%COMP%]{display:block;margin-top:10px}.card-container.card[_ngcontent-%COMP%]{max-width:400px!important;padding:40px}.card[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:20px 25px 30px;margin:50px auto 25px;border-radius:2px;box-shadow:0 2px 2px #0000004d}.profile-img-card[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 10px;display:block;border-radius:50%}.login-form[_ngcontent-%COMP%]{position:relative;height:560px;width:405px;margin:auto;padding:60px;background-size:cover;box-shadow:0 30px 60px -5px #000}.background[_ngcontent-%COMP%]{background-image:url(photo-1657278127206-3299435f1cad.6e580ed13cd010ea.jpg);background-repeat:no-repeat;background-size:cover;background-attachment:fixed;background-position:center;padding-top:5%;padding-bottom:15%}\"]\n  });\n  return FinalizepasswordresetComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}